<div contenteditable="true" class="main" id="section1" style="background-color: yellow; width:100%; height:30%;"              ><font color="#ff0000" >12345678</font></div>
	
<div contenteditable="true" class="main" id="section2" style="background-color: yellow; width:100%; height:30%; margin-top:5%;"><font color="#ff0000">12346785</font></div>




<button onclick="go()">go</button>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

<script src="change.js"></script>

<script type="text/javascript">
	
	function time() {
		var d= new Date();
		return d.getTime();
	}


	node1 = $('#section1')[0];
	node2 = $('#section2')[0];

	function go() {
		
		setColor('#ff0000');
		var t = time();
		
		var c = getNodeChanges(node1, node2);
		
		
		
		console.log(JSON.stringify(c));
		console.log(c[0]);
		
		if (c[0]) {
			c[0][1] = createNodeTree(c[0][1]);
		}
		
		setStructureDifferences(node1, c[0]);
		
		console.log(node2.textContent);
		console.log(JSON.stringify(c[1]));
		console.log("applying " + JSON.stringify(c[1]) + " to " + node1.textContent);
		var text = executeChanges(node1.textContent, c[1]);
		console.log("gets us: " + text);
		
		console.log(text);
		
		node1.textContent = text;
		
		console.log(time() - t);
	}
	
</script>